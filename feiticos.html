<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Técnicas e Artes</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Funnel+Sans:wght@300..800&display=swap" rel="stylesheet">
<style>
  :root { 
    --bg: #0f0f0f; --card: #141414; --text: #f1f1f1; --border: #333;
    --magic: #58E8DA; --phys: #e63946; --special: #D073FA;
    --header-magic: #0a2a29; /* Fundo Ciano Escuro */
    --header-phys: #351a1a; /* Fundo Vermelho Escuro */
  }
  
  * { box-sizing: border-box; }
  body { background: var(--bg); color: var(--text); font-family: 'Funnel Sans', sans-serif; padding: 20px; margin: 0; }

  .header-nav { display: flex; align-items: center; margin-bottom: 20px; border-bottom: 1px solid var(--border); padding-bottom: 10px; }
  .btn-back { background: transparent; border: 1px solid #555; color: #888; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-right: 15px; }
  h1 { margin: 0; font-size: 1.5rem; text-transform: uppercase; letter-spacing: 1px; }

  /* BARRA DE STATUS */
  .status-bar { 
    background: #1a1a1a; padding: 10px 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid var(--border);
    display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;
  }
  .slots-display { font-weight: bold; color: var(--magic); }
  .passive-toggles { display: flex; gap: 15px; }
  .toggle-label { font-size: 0.9rem; color: #aaa; cursor: pointer; display: flex; align-items: center; gap: 5px; }
  .toggle-label input { accent-color: var(--magic); width: 16px; height: 16px; }

  .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; max-width: 1600px; margin: 0 auto; }
  @media (max-width: 1100px) { .main-grid { grid-template-columns: 1fr; } }

  .section-box { display: flex; flex-direction: column; gap: 15px; }
  
  /* CORE BOX */
  .core-box { background: var(--card); padding: 20px; border-radius: 10px; border: 1px solid var(--border); position: relative; }
  .core-magic { border-top: 4px solid var(--magic); }
  .core-phys { border-top: 4px solid var(--phys); }
  
  .core-title { background: transparent; border: none; color: white; font-size: 1.4rem; font-weight: bold; width: 100%; outline: none; margin-bottom: 10px; }
  .core-desc { background: #111; border: 1px solid var(--border); color: #ccc; width: 100%; min-height: 80px; padding: 10px; border-radius: 5px; resize: vertical; font-family: inherit; }
  .btn-save-core { background: #222; color: #aaa; border: 1px solid var(--border); padding: 5px 10px; font-size: 0.8rem; border-radius: 4px; cursor: pointer; float: right; margin-top: 5px; }
  .btn-save-core:hover { background: #333; color: white; }

  /* CARDS */
  .cards-container { display: flex; flex-direction: column; gap: 20px; }
  
  .tech-card {
    background: var(--card); border: 1px solid var(--border); border-radius: 8px; overflow: hidden;
    display: flex; flex-direction: column; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }
  
  /* Header do Card */
  .tc-header {
    padding: 8px 15px; font-weight: bold; font-size: 1.1rem; color: white; text-align: center;
    display: flex; justify-content: space-between; align-items: center; text-transform: uppercase; letter-spacing: 1px;
  }
  
  /* Cores dos Headers */
  .magic-theme .tc-header { background: var(--header-magic); border-bottom: 2px solid var(--magic); color: var(--magic); }
  .phys-theme .tc-header { background: var(--header-phys); border-bottom: 2px solid var(--phys); color: var(--phys); }

  /* Corpo do Card */
  .tc-body { display: grid; grid-template-columns: 140px 1fr; }
  
  /* Coluna Esquerda (Stats) */
  .tc-stats { 
    background: #111; border-right: 1px solid var(--border); padding: 10px; 
    font-size: 0.85rem; display: flex; flex-direction: column; gap: 8px; 
  }
  .stat-row { display: flex; flex-direction: column; border-bottom: 1px solid #222; padding-bottom: 4px; }
  .stat-row:last-child { border-bottom: none; }
  .stat-label { color: #888; font-size: 0.7rem; text-transform: uppercase; font-weight: bold; }
  .stat-value { color: #fff; font-weight: bold; }
  
  .val-cost { font-size: 1.1rem; }
  .magic-theme .val-cost { color: var(--magic); }
  .phys-theme .val-cost { color: var(--phys); }

  /* Coluna Direita (Descrição) */
  .tc-desc { padding: 15px; font-size: 0.95rem; color: #ddd; white-space: pre-wrap; line-height: 1.5; }

  /* Botões de Ação */
  .card-actions { display: flex; gap: 5px; }
  .btn-icon { background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); color: #fff; width: 24px; height: 24px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; }
  .btn-icon:hover { background: white; color: black; }
  .btn-del:hover { background: #d00000; color: white; border-color: #d00000; }

  /* Bloqueio */
  .tech-card.locked { opacity: 0.5; filter: grayscale(0.8); border: 1px dashed #555; }
  .tech-card.locked::after {
    content: "BLOQUEADO"; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-10deg);
    font-size: 2rem; font-weight: bold; color: rgba(255, 0, 0, 0.5); border: 4px solid rgba(255, 0, 0, 0.5); padding: 10px; pointer-events: none;
  }

  .btn-add { width: 100%; padding: 12px; border-radius: 8px; border: 2px dashed #444; background: transparent; color: #666; font-weight: bold; cursor: pointer; transition: 0.2s; margin-top: 10px; }
  .btn-add:hover { border-color: #777; color: #fff; background: #1a1a1a; }
  .btn-add-magic:hover { border-color: var(--magic); color: var(--magic); }
  .btn-add-phys:hover { border-color: var(--phys); color: var(--phys); }

  /* MODAL */
  .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 100; align-items: center; justify-content: center; overflow-y: auto; padding: 20px 0; }
  .modal.open { display: flex; }
  .modal-box { background: var(--card); width: 90%; max-width: 600px; padding: 20px; border-radius: 10px; border: 1px solid var(--border); margin: auto; }
  
  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
  .form-grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 10px; }
  
  label { display: block; color: #888; font-size: 0.8rem; margin-bottom: 4px; font-weight: bold; }
  input, textarea, select { width: 100%; background: #000; border: 1px solid #333; color: white; padding: 8px; border-radius: 4px; outline: none; font-family: inherit; }
  textarea { height: 120px; resize: vertical; }
  input:focus, textarea:focus { border-color: #777; }

  .special-note { font-size: 0.8rem; color: var(--special); margin-top: 5px; display: none; padding: 5px; border: 1px solid var(--special); background: rgba(208, 115, 250, 0.1); border-radius: 4px; }

  .btn-confirm { width: 100%; padding: 10px; margin-top: 15px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; color: #000; }
  
  .level-info { text-align: center; color: #666; font-size: 0.8rem; margin-bottom: 5px; }
  .level-info b { color: var(--magic); }
</style>
</head>
<body>

<div class="header-nav">
  <button class="btn-back" onclick="voltar()">⬅ Voltar</button>
  <h1>Grimório & Arsenal</h1>
</div>

<div class="status-bar">
  <span id="slotsDisplay" class="slots-display">Feitiços: ...</span>
  
  <div class="passive-toggles">
    <label class="toggle-label" title="Nível 10 - Reduz custo em 2">
      <input type="checkbox" id="chkEconomia" onchange="salvarPassivas()"> Foco: Economia
    </label>
    <label class="toggle-label" title="Nível 20 - Reduz custo pela metade (Nv 1-3)">
      <input type="checkbox" id="chkHonrado" onchange="salvarPassivas()"> O Honrado
    </label>
  </div>
</div>

<div id="levelDisplay" class="level-info">...</div>

<div class="main-grid">
  
  <div class="section-box">
    <h2 style="color:var(--magic)">Feitiços</h2>
    
    <div class="core-box core-magic">
      <input id="coreInataNome" class="core-title" placeholder="Nome da Técnica (Ex: Dez Sombras)">
      <textarea id="coreInataDesc" class="core-desc" placeholder="Descreva o funcionamento básico da sua técnica..."></textarea>
      <button class="btn-save-core" onclick="salvarCores()">Salvar Descrição</button>
    </div>

    <div id="listaFeiticos" class="cards-container"></div>
    
    <button class="btn-add btn-add-magic" onclick="abrirModal('feitico')">+ Novo Feitiço</button>
  </div>

  <div class="section-box">
    <h2 style="color:var(--phys)">Artes Marciais</h2>
    
    <div class="core-box core-phys">
      <input id="coreMarcialNome" class="core-title" placeholder="Nome do Estilo (Ex: Punho Gentil)">
      <textarea id="coreMarcialDesc" class="core-desc" placeholder="Descreva o funcionamento do seu estilo de luta..."></textarea>
      <button class="btn-save-core" onclick="salvarCores()">Salvar Descrição</button>
    </div>

    <div id="listaMarcial" class="cards-container"></div>
    
    <button class="btn-add btn-add-phys" onclick="abrirModal('marcial')">+ Nova Técnica Marcial</button>
  </div>

</div>

<div id="modalCard" class="modal">
  <div class="modal-box">
    <h2 id="modalTitle" style="margin-top:0; color:white;">Nova Habilidade</h2>
    
    <label>Nome da Técnica</label>
    <input id="inNome" placeholder="Ex: Vazio Roxo / Chute Alto">
    
    <div style="margin-top:10px;">
      <div class="form-row">
        <div>
          <label>Nível (0-5)</label>
          <select id="inNivel" onchange="atualizarInfoModal()">
            <option value="0">Nível 0</option>
            <option value="1">Nível 1</option>
            <option value="2">Nível 2</option>
            <option value="3">Nível 3</option>
            <option value="4">Nível 4</option>
            <option value="5">Nível 5</option>
          </select>
        </div>
        <div>
          <label id="lblCusto">Custo (Automático)</label>
          <input id="inCustoDisplay" readonly style="font-weight:bold;">
        </div>
      </div>

      <div id="divTipoContainer">
        <label>Tipo de Feitiço</label>
        <select id="inTipo" onchange="atualizarInfoModal()" style="margin-bottom:10px;">
          <option value="Normal">Padrão</option>
          <option value="Shikigami">Criação de Shikigami</option>
          <option value="Item">Criação de Item</option>
        </select>
        
        <div id="shikigamiNote" class="special-note">
          <b>Regra de Shikigami:</b> Custo vira "PE Permanente" reduzido do máximo.<br>
          Nv 0-1: Grau 4 | Nv 2: Grau 3 | Nv 3: Grau 2 | Nv 4: Grau 1 | Nv 5: Especial
        </div>
        
        <div id="itemNote" class="special-note">
          <b>Regra de Item:</b> Cria item de Custo igual ao Nível. Nv 5 cria 2 itens Custo 4.
        </div>
      </div>
    </div>

    <div class="form-grid-3">
      <div>
        <label>Ação (Conjuração)</label>
        <select id="inAcao">
          <option value="Comum">Ação Comum</option>
          <option value="Bônus">Ação Bônus</option>
          <option value="Reação">Reação</option>
          <option value="Livre">Ação Livre</option>
          <option value="Movimento">Ação de Movimento</option>
          <option value="Completa">Ação Completa</option>
          <option value="Conjuração Completa">Conjuração (2 Turnos)</option>
        </select>
      </div>
      <div><label>Alcance</label><input id="inAlcance" placeholder="9m, Toque..."></div>
      <div><label>Alvo/Área</label><input id="inAlvo" placeholder="1 ser, Cone..."></div>
    </div>
    
    <div class="form-row">
      <div><label>DT / Acerto</label><input id="inDT" placeholder="Reflexos CD 15..."></div>
      <div><label>Dano / Cura</label><input id="inDano" placeholder="2d8+4"></div>
    </div>
    
    <label>Descrição Completa</label>
    <textarea id="inEfeito" placeholder="Descreva o funcionamento..."></textarea>

    <button id="btnConfirmar" class="btn-confirm">Salvar</button>
    <button onclick="fecharModal()" style="width:100%; background:transparent; border:none; color:#666; margin-top:10px; cursor:pointer;">Cancelar</button>
  </div>
</div>

<script type="module">
import { db, doc, getDoc, updateDoc } from "./firebase.js";

const params = new URLSearchParams(location.search);
const id = params.get("id");
let ficha = {};
let editType = null; // 'feitico' ou 'marcial'
let editIndex = -1;

const CUSTO_BASE = { 0: 0, 1: 2, 2: 5, 3: 8, 4: 12, 5: 20 };

window.onload = async () => {
  if(!id) return alert("ID não encontrado");
  await carregar();
};

async function carregar() {
  const snap = await getDoc(doc(db, "fichas", id));
  if(snap.exists()){
    ficha = snap.data();
    if(!ficha.passivas) ficha.passivas = { economia: false, honrado: false };
    
    document.getElementById('chkEconomia').checked = ficha.passivas.economia;
    document.getElementById('chkHonrado').checked = ficha.passivas.honrado;
    
    renderTudo();
  }
}

// === LÓGICA DE PROGRESSÃO ===
function getSlotsInfo() {
  const nivel = Number(ficha.nivel || 1);
  const isEspecialista = (ficha.classe === "Especialista em Técnica");
  
  let slots = isEspecialista ? (1 + nivel) : (2 + Math.floor(nivel / 2));
  if (nivel >= 10) slots += 1;
  if (nivel >= 20) slots += 1;
  
  const usados = (ficha.feiticos || []).length;
  return `${usados} / ${slots}`;
}

function getNivelMaximoAcesso() {
  const nivel = ficha.nivel || 1;
  const isEspecialista = (ficha.classe === "Especialista em Técnica");

  if (isEspecialista) {
    if (nivel >= 15) return 5;
    if (nivel >= 11) return 4;
    if (nivel >= 7) return 3;
    if (nivel >= 4) return 2;
    return 1; 
  } else {
    if (nivel >= 17) return 5;
    if (nivel >= 13) return 4;
    if (nivel >= 9) return 3;
    if (nivel >= 5) return 2;
    return 1;
  }
}

function calcularCustoReal(nivelBase) {
  let custo = CUSTO_BASE[nivelBase];
  if (nivelBase === 0) return 0;

  if (ficha.passivas?.economia) {
    custo -= 2;
    if (nivelBase === 1 && custo < 0) custo = 0;
  }
  if (ficha.passivas?.honrado && nivelBase <= 3) {
    custo = Math.floor(custo / 2);
  }
  return Math.max(0, custo);
}

// === RENDERIZAÇÃO ===
function renderTudo() {
  const nivelMax = getNivelMaximoAcesso();
  const slotsTexto = getSlotsInfo();
  
  document.getElementById('slotsDisplay').innerText = `Feitiços Conhecidos: ${slotsTexto}`;
  document.getElementById('levelDisplay').innerHTML = `
    Personagem Nível <b>${ficha.nivel || 1}</b> • 
    Acesso até Nível <b>${nivelMax}</b>
    ${ficha.classe === "Especialista em Técnica" ? "(Evolução Adiantada)" : ""}
  `;

  document.getElementById('coreInataNome').value = ficha.tecnicaInata?.nome || "";
  document.getElementById('coreInataDesc').value = ficha.tecnicaInata?.descricao || "";
  document.getElementById('coreMarcialNome').value = ficha.estiloMarcial?.nome || "";
  document.getElementById('coreMarcialDesc').value = ficha.estiloMarcial?.descricao || "";

  // FEITIÇOS
  const divFeiticos = document.getElementById('listaFeiticos');
  divFeiticos.innerHTML = "";
  (ficha.feiticos || []).forEach((f, i) => {
    const nivelNecessario = Number(f.nivel || 0);
    const bloqueado = nivelNecessario > nivelMax;
    divFeiticos.innerHTML += cardHtml(f, i, 'feitico', bloqueado);
  });

  // MARCIAIS
  const divMarcial = document.getElementById('listaMarcial');
  divMarcial.innerHTML = "";
  (ficha.artesMarciais || []).forEach((f, i) => {
    divMarcial.innerHTML += cardHtml(f, i, 'marcial', false);
  });
}

function cardHtml(dados, index, tipo, bloqueado) {
  const isMagic = tipo === 'feitico';
  const themeClass = isMagic ? 'magic-theme' : 'phys-theme';
  const lockClass = bloqueado ? 'locked' : '';
  
  const nivel = Number(dados.nivel || 0);
  const custoBase = CUSTO_BASE[nivel];
  const custoFinal = isMagic ? calcularCustoReal(nivel) : custoBase;
  const unit = isMagic ? 'PE' : 'PV';
  
  // Renderiza Campos Opcionais
  const field = (lbl, val) => val ? `<div class="stat-row"><span class="stat-label">${lbl}</span><span class="stat-value">${val}</span></div>` : '';
  
  let typeBadge = "";
  if(isMagic && dados.tipoEspecial && dados.tipoEspecial !== "Normal") {
    typeBadge = `<span class="card-type-badge">${dados.tipoEspecial}</span>`;
  }

  return `
    <div class="tech-card ${themeClass} ${lockClass}">
      <div class="tc-header">
        <div style="display:flex; align-items:center;">
          <span class="card-title">${dados.nome}</span>
          ${typeBadge}
        </div>
        
        <div style="display:flex; align-items:center; gap:10px;">
          <span style="font-size:0.8rem; background:rgba(0,0,0,0.3); padding:2px 6px; border-radius:4px;">NVL ${nivel}</span>
          <div class="card-actions">
            <div class="btn-icon" onclick="editar('${tipo}', ${index})">✎</div>
            <div class="btn-icon btn-del" onclick="excluir('${tipo}', ${index})">✖</div>
          </div>
        </div>
      </div>
      
      <div class="tc-body">
        <div class="tc-stats">
          ${field('Ação', dados.acao)}
          ${field('Alcance', dados.alcance)}
          ${field('Alvo/Área', dados.alvo)}
          ${field('DT/Acerto', dados.dt)}
          ${field('Dano/Cura', dados.dano)}
          
          <div class="stat-row" style="margin-top:auto; border:none;">
            <span class="stat-label">Custo</span>
            <span class="stat-value val-cost">${custoFinal} ${unit}</span>
          </div>
        </div>
        <div class="tc-desc">${dados.efeito || ''}</div>
      </div>
    </div>
  `;
}

// === AÇÕES ===

window.salvarPassivas = async () => {
  const passivas = {
    economia: document.getElementById('chkEconomia').checked,
    honrado: document.getElementById('chkHonrado').checked
  };
  await updateDoc(doc(db, "fichas", id), { passivas: passivas });
  ficha.passivas = passivas;
  renderTudo();
};

window.salvarCores = async () => {
  await updateDoc(doc(db, "fichas", id), {
    tecnicaInata: {
      nome: document.getElementById('coreInataNome').value,
      descricao: document.getElementById('coreInataDesc').value
    },
    estiloMarcial: {
      nome: document.getElementById('coreMarcialNome').value,
      descricao: document.getElementById('coreMarcialDesc').value
    }
  });
  alert("Salvo!");
};

// ATUALIZAÇÃO DO MODAL
window.atualizarInfoModal = () => {
  const nivel = document.getElementById('inNivel').value;
  const tipo = document.getElementById('inTipo').value;
  const isMagic = editType === 'feitico';
  
  // Custo
  const custo = CUSTO_BASE[nivel];
  const unit = isMagic ? 'PE' : 'PV';
  document.getElementById('inCustoDisplay').value = `${custo} ${unit}`;
  document.getElementById('inCustoDisplay').style.color = isMagic ? 'var(--magic)' : 'var(--phys)';

  // Notas e Tipo (Só para feitiço)
  if (isMagic) {
    document.getElementById('divTipoContainer').style.display = 'block';
    document.getElementById('shikigamiNote').style.display = (tipo === 'Shikigami') ? 'block' : 'none';
    document.getElementById('itemNote').style.display = (tipo === 'Item') ? 'block' : 'none';
  } else {
    document.getElementById('divTipoContainer').style.display = 'none'; // Esconde selector de tipo
    document.getElementById('shikigamiNote').style.display = 'none';
    document.getElementById('itemNote').style.display = 'none';
  }
};

window.abrirModal = (tipo) => {
  editType = tipo;
  editIndex = -1; 
  
  document.getElementById('modalTitle').innerText = tipo === 'feitico' ? "Novo Feitiço" : "Nova Técnica Marcial";
  document.getElementById('btnConfirmar').style.background = tipo === 'feitico' ? "var(--magic)" : "var(--phys)";
  
  // Reset Inputs
  document.getElementById('inNome').value = "";
  document.getElementById('inNivel').value = "0";
  document.getElementById('inTipo').value = "Normal";
  document.getElementById('inAcao').value = "Comum";
  document.getElementById('inAlcance').value = "";
  document.getElementById('inAlvo').value = "";
  document.getElementById('inDT').value = "";
  document.getElementById('inDano').value = "";
  document.getElementById('inEfeito').value = "";
  
  atualizarInfoModal();
  document.getElementById('modalCard').classList.add('open');
};

window.editar = (tipo, index) => {
  editType = tipo;
  editIndex = index;
  
  const lista = tipo === 'feitico' ? (ficha.feiticos||[]) : (ficha.artesMarciais||[]);
  const item = lista[index];

  document.getElementById('modalTitle').innerText = "Editar";
  document.getElementById('btnConfirmar').style.background = tipo === 'feitico' ? "var(--magic)" : "var(--phys)";

  document.getElementById('inNome').value = item.nome;
  document.getElementById('inNivel').value = item.nivel || 0;
  document.getElementById('inTipo').value = item.tipoEspecial || "Normal";
  document.getElementById('inAcao').value = item.acao || "Comum";
  document.getElementById('inAlcance').value = item.alcance || "";
  document.getElementById('inAlvo').value = item.alvo || "";
  document.getElementById('inDT').value = item.dt || "";
  document.getElementById('inDano').value = item.dano || "";
  document.getElementById('inEfeito').value = item.efeito || "";

  atualizarInfoModal();
  document.getElementById('modalCard').classList.add('open');
};

document.getElementById('btnConfirmar').onclick = async () => {
  const novoItem = {
    nome: document.getElementById('inNome').value || "Sem Nome",
    nivel: document.getElementById('inNivel').value,
    tipoEspecial: editType === 'feitico' ? document.getElementById('inTipo').value : "Normal",
    acao: document.getElementById('inAcao').value,
    alcance: document.getElementById('inAlcance').value,
    alvo: document.getElementById('inAlvo').value,
    dt: document.getElementById('inDT').value,
    dano: document.getElementById('inDano').value,
    efeito: document.getElementById('inEfeito').value
  };

  if (editType === 'feitico') {
    if(!ficha.feiticos) ficha.feiticos = [];
    if(editIndex === -1) ficha.feiticos.push(novoItem);
    else ficha.feiticos[editIndex] = novoItem;
    await updateDoc(doc(db, "fichas", id), { feiticos: ficha.feiticos });
  } else {
    if(!ficha.artesMarciais) ficha.artesMarciais = [];
    if(editIndex === -1) ficha.artesMarciais.push(novoItem);
    else ficha.artesMarciais[editIndex] = novoItem;
    await updateDoc(doc(db, "fichas", id), { artesMarciais: ficha.artesMarciais });
  }

  fecharModal();
  renderTudo();
};

window.excluir = async (tipo, index) => {
  if(!confirm("Excluir?")) return;
  if(tipo === 'feitico') {
    ficha.feiticos.splice(index, 1);
    await updateDoc(doc(db, "fichas", id), { feiticos: ficha.feiticos });
  } else {
    ficha.artesMarciais.splice(index, 1);
    await updateDoc(doc(db, "fichas", id), { artesMarciais: ficha.artesMarciais });
  }
  renderTudo();
};

window.fecharModal = () => { document.getElementById('modalCard').classList.remove('open'); };
window.voltar = () => { window.location = `ficha.html?id=${id}`; };
</script>
</body>
</html>
